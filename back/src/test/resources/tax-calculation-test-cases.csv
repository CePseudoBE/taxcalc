# Tax Calculation Test Cases - Complete Coverage
# Format: description,region,taxType,powerKw,fiscalHp,fuelType,euroNorm,co2Wltp,mmaKg,vehicleAge,isNew,expectedMin,expectedMax,isExempt

# ============================================
# SECTION 1: WALLONIA TMC 2025
# Formula: MB × (CO2/136) × (MMA/1838) × C × age_coef
# Min: 50€, Max: 9000€
# Age coefficients: 0=1.0, 5=0.55, 10=0.30, 15=0.00
# ============================================

# --- Golf GTI (195kW, 15CV, petrol, 162g CO2, 1950kg MMA) ---
# MB=4957, CO2/136=1.19, MMA/1838=1.06, C=1.0
# Base = 4957 × 1.19 × 1.06 × 1.0 = 6254€
Wallonia TMC - Golf GTI 0y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,0,true,5500,6800,false
Wallonia TMC - Golf GTI 5y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,5,false,2800,4000,false
Wallonia TMC - Golf GTI 10y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,10,false,1500,2200,false
Wallonia TMC - Golf GTI 15y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,15,false,0,0,false

# --- BMW 320d G21 (140kW, 10CV, diesel, 148g CO2, 2105kg MMA) ---
Wallonia TMC - BMW 320d 0y,wallonia,tmc,140,10,diesel,euro_6d,148,2105,0,true,2500,3500,false
Wallonia TMC - BMW 320d 5y,wallonia,tmc,140,10,diesel,euro_6d,148,2105,5,false,1300,2000,false
Wallonia TMC - BMW 320d 10y,wallonia,tmc,140,10,diesel,euro_6d,148,2105,10,false,700,1100,false
Wallonia TMC - BMW 320d 15y,wallonia,tmc,140,10,diesel,euro_6d,148,2105,15,false,0,0,false

# --- Tesla Model Y Performance (378kW, 15CV, electric, 0g CO2, 2518kg MMA) ---
Wallonia TMC - Tesla Y Perf 0y,wallonia,tmc,378,15,electric,euro_6d,0,2518,0,true,0,3000,false
Wallonia TMC - Tesla Y Perf 5y,wallonia,tmc,378,15,electric,euro_6d,0,2518,5,false,0,2000,false
Wallonia TMC - Tesla Y Perf 10y,wallonia,tmc,378,15,electric,euro_6d,0,2518,10,false,0,1000,false
Wallonia TMC - Tesla Y Perf 15y,wallonia,tmc,378,15,electric,euro_6d,0,2518,15,false,0,0,false

# --- Tesla Model Y Propulsion (202kW, 7CV, electric, 0g CO2, 2200kg MMA) ---
Wallonia TMC - Tesla Y Prop 0y,wallonia,tmc,202,7,electric,euro_6d,0,2200,0,true,0,2000,false
Wallonia TMC - Tesla Y Prop 5y,wallonia,tmc,202,7,electric,euro_6d,0,2200,5,false,0,1000,false
Wallonia TMC - Tesla Y Prop 10y,wallonia,tmc,202,7,electric,euro_6d,0,2200,10,false,0,600,false
Wallonia TMC - Tesla Y Prop 15y,wallonia,tmc,202,7,electric,euro_6d,0,2200,15,false,0,0,false

# --- Dacia Sandero ECO-G LPG (74kW, 5CV, lpg, 114g CO2, 1618kg MMA) ---
Wallonia TMC - Dacia Sandero LPG 0y,wallonia,tmc,74,5,lpg,euro_6d,114,1618,0,true,50,150,false
Wallonia TMC - Dacia Sandero LPG 5y,wallonia,tmc,74,5,lpg,euro_6d,114,1618,5,false,50,100,false
Wallonia TMC - Dacia Sandero LPG 10y,wallonia,tmc,74,5,lpg,euro_6d,114,1618,10,false,0,100,false
Wallonia TMC - Dacia Sandero LPG 15y,wallonia,tmc,74,5,lpg,euro_6d,114,1618,15,false,0,0,false

# --- Golf GTE Hybrid (110kW, 8CV, plug_in_hybrid_petrol, 25g CO2, 2100kg MMA) ---
Wallonia TMC - Golf GTE 0y,wallonia,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,2100,0,true,100,250,false
Wallonia TMC - Golf GTE 5y,wallonia,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,2100,5,false,50,150,false
Wallonia TMC - Golf GTE 10y,wallonia,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,2100,10,false,50,100,false
Wallonia TMC - Golf GTE 15y,wallonia,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,2100,15,false,0,0,false

# --- Renault Clio TCe (74kW, 5CV, petrol, 128g CO2, 1600kg MMA) ---
Wallonia TMC - Clio TCe 0y,wallonia,tmc,74,5,petrol,euro_6d,128,1600,0,true,50,150,false
Wallonia TMC - Clio TCe 5y,wallonia,tmc,74,5,petrol,euro_6d,128,1600,5,false,50,100,false
Wallonia TMC - Clio TCe 10y,wallonia,tmc,74,5,petrol,euro_6d,128,1600,10,false,0,100,false
Wallonia TMC - Clio TCe 15y,wallonia,tmc,74,5,petrol,euro_6d,128,1600,15,false,0,0,false

# ============================================
# SECTION 2: BRUSSELS TMC
# Formula: MAX(amount_CV, amount_kW) × age_coef - LPG_reduction
# Min: 75€
# ============================================

# --- Golf GTI (195kW, 15CV) ---
Brussels TMC - Golf GTI 0y,brussels,tmc,195,15,petrol,euro_6d,162,,0,true,5000,7000,false
Brussels TMC - Golf GTI 5y,brussels,tmc,195,15,petrol,euro_6d,162,,5,false,2700,4000,false
Brussels TMC - Golf GTI 10y,brussels,tmc,195,15,petrol,euro_6d,162,,10,false,1400,2200,false
Brussels TMC - Golf GTI 15y,brussels,tmc,195,15,petrol,euro_6d,162,,15,false,0,0,false

# --- BMW 320d (140kW, 10CV) ---
Brussels TMC - BMW 320d 0y,brussels,tmc,140,10,diesel,euro_6d,148,,0,true,2500,3500,false
Brussels TMC - BMW 320d 5y,brussels,tmc,140,10,diesel,euro_6d,148,,5,false,1300,2000,false
Brussels TMC - BMW 320d 10y,brussels,tmc,140,10,diesel,euro_6d,148,,10,false,700,1100,false
Brussels TMC - BMW 320d 15y,brussels,tmc,140,10,diesel,euro_6d,148,,15,false,0,0,false

# --- Tesla Model Y Performance (electric) - MIN amount ---
Brussels TMC - Tesla Y Perf 0y,brussels,tmc,378,15,electric,euro_6d,0,,0,true,70,100,false
Brussels TMC - Tesla Y Perf 5y,brussels,tmc,378,15,electric,euro_6d,0,,5,false,70,100,false
Brussels TMC - Tesla Y Perf 10y,brussels,tmc,378,15,electric,euro_6d,0,,10,false,70,100,false

# --- Tesla Model Y Propulsion (electric) - MIN amount ---
Brussels TMC - Tesla Y Prop 0y,brussels,tmc,202,7,electric,euro_6d,0,,0,true,70,100,false
Brussels TMC - Tesla Y Prop 5y,brussels,tmc,202,7,electric,euro_6d,0,,5,false,70,100,false

# --- Dacia Sandero LPG (74kW, 5CV) ---
Brussels TMC - Dacia Sandero LPG 0y,brussels,tmc,74,5,lpg,euro_6d,114,,0,true,70,100,false
Brussels TMC - Dacia Sandero LPG 5y,brussels,tmc,74,5,lpg,euro_6d,114,,5,false,70,100,false
Brussels TMC - Dacia Sandero LPG 15y,brussels,tmc,74,5,lpg,euro_6d,114,,15,false,0,0,false

# --- Golf GTE Hybrid (110kW, 8CV) ---
Brussels TMC - Golf GTE 0y,brussels,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,,0,true,800,1300,false
Brussels TMC - Golf GTE 5y,brussels,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,,5,false,400,750,false
Brussels TMC - Golf GTE 10y,brussels,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,,10,false,200,450,false
Brussels TMC - Golf GTE 15y,brussels,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,,15,false,0,0,false

# --- Renault Clio TCe (74kW, 5CV) ---
Brussels TMC - Clio TCe 0y,brussels,tmc,74,5,petrol,euro_6d,128,,0,true,100,200,false
Brussels TMC - Clio TCe 5y,brussels,tmc,74,5,petrol,euro_6d,128,,5,false,70,120,false
Brussels TMC - Clio TCe 10y,brussels,tmc,74,5,petrol,euro_6d,128,,10,false,70,100,false
Brussels TMC - Clio TCe 15y,brussels,tmc,74,5,petrol,euro_6d,128,,15,false,0,0,false

# --- CNG vehicle ---
Brussels TMC - CNG 100kW,brussels,tmc,100,8,cng,euro_6d,100,,0,true,0,0,false

# ============================================
# SECTION 3: FLANDERS TMC (BIV)
# Electric/Hydrogen: Fixed ~62€ (not exempt!)
# ============================================

# --- Golf GTI (195kW, 162g CO2, petrol, Euro 6d) ---
Flanders TMC - Golf GTI 0y,flanders,tmc,195,15,petrol,euro_6d,162,,0,true,1000,2000,false
Flanders TMC - Golf GTI 5y,flanders,tmc,195,15,petrol,euro_6d,162,,5,false,500,1200,false
Flanders TMC - Golf GTI 10y,flanders,tmc,195,15,petrol,euro_6d,162,,10,false,100,1000,false

# --- BMW 320d (140kW, 148g CO2, diesel, Euro 6d) ---
# BIV = (((148 × 1.0 × 1.245) / 246)^6 × 4500 + 0) × LC = ~796€ × LC
# Euro 6 diesel: luchtcomponent = 0€
Flanders TMC - BMW 320d 0y,flanders,tmc,140,10,diesel,euro_6d,148,,0,true,700,900,false
Flanders TMC - BMW 320d 5y,flanders,tmc,140,10,diesel,euro_6d,148,,5,false,350,500,false
Flanders TMC - BMW 320d 10y,flanders,tmc,140,10,diesel,euro_6d,148,,10,false,55,1000,false

# --- Tesla Model Y (electric) - Pay minimum ~62€ (NOT exempt) ---
Flanders TMC - Tesla Y Perf fixed,flanders,tmc,378,15,electric,euro_6d,0,,0,true,55,70,false
Flanders TMC - Tesla Y Prop fixed,flanders,tmc,202,7,electric,euro_6d,0,,0,true,55,70,false

# --- Dacia Sandero LPG (74kW, 114g CO2, Euro 6d) ---
Flanders TMC - Dacia Sandero 0y,flanders,tmc,74,5,lpg,euro_6d,114,,0,true,0,1000,false

# --- Golf GTE Hybrid (110kW, 25g CO2, Euro 6d) ---
Flanders TMC - Golf GTE 0y,flanders,tmc,110,8,plug_in_hybrid_petrol,euro_6d,25,,0,true,0,1000,false

# --- Renault Clio (74kW, 128g CO2, petrol, Euro 6d) ---
Flanders TMC - Clio TCe 0y,flanders,tmc,74,5,petrol,euro_6d,128,,0,true,0,1500,false

# --- Hydrogen - Pay minimum ~62€ (NOT exempt) ---
Flanders TMC - Hydrogen fixed,flanders,tmc,180,12,hydrogen,euro_6d,0,,0,true,55,70,false

# ============================================
# SECTION 4: WALLONIA ANNUAL TAX (July 2025)
# Based on fiscal HP only
# Values from seed data: 8CV=295.02€, 10CV=407.22€, 15CV=1013.10€
# LPG: base + HP × surcharge
# Electric: NOT exempt (same as thermal)
# ============================================

# --- Golf GTI (15CV) = 1013.10€ ---
Wallonia Annual - Golf GTI,wallonia,annual,195,15,petrol,euro_6d,162,,0,true,1000,1050,false

# --- BMW 320d (10CV) = 407.22€ ---
Wallonia Annual - BMW 320d,wallonia,annual,140,10,diesel,euro_6d,148,,0,true,400,420,false

# --- Tesla Model Y Performance (15CV) - NOT exempt in Wallonia ---
Wallonia Annual - Tesla Y Perf,wallonia,annual,378,15,electric,euro_6d,0,,0,true,1000,1050,false

# --- Tesla Model Y Propulsion (7CV) = 238.52€ ---
Wallonia Annual - Tesla Y Prop,wallonia,annual,202,7,electric,euro_6d,0,,0,true,230,250,false

# --- Dacia Sandero LPG (5CV) = 126.32€ + 89.16€ (≤7CV bracket) = 215.48€ ---
Wallonia Annual - Dacia Sandero LPG,wallonia,annual,74,5,lpg,euro_6d,114,,0,true,210,225,false

# --- Golf GTE (8CV) = 295.02€ ---
Wallonia Annual - Golf GTE,wallonia,annual,110,8,plug_in_hybrid_petrol,euro_6d,25,,0,true,290,310,false

# --- Renault Clio (5CV) = 126.32€ ---
Wallonia Annual - Clio TCe,wallonia,annual,74,5,petrol,euro_6d,128,,0,true,120,140,false

# Additional HP brackets
Wallonia Annual - 4CV,wallonia,annual,70,4,petrol,euro_6d,120,,0,true,95,110,false
Wallonia Annual - 6CV,wallonia,annual,90,6,petrol,euro_6d,140,,0,true,175,195,false
Wallonia Annual - 9CV,wallonia,annual,120,9,diesel,euro_6d,150,,0,true,340,365,false
Wallonia Annual - 20CV,wallonia,annual,250,20,diesel,euro_6d,250,,0,true,2550,2620,false

# ============================================
# SECTION 5: BRUSSELS ANNUAL TAX (July 2025)
# Values from seed data: 8CV=300.96€, 10CV=415.40€, 15CV=1033.43€
# ============================================

# --- Golf GTI (15CV) = 1033.43€ ---
Brussels Annual - Golf GTI,brussels,annual,195,15,petrol,euro_6d,162,,0,true,1020,1050,false

# --- BMW 320d (10CV) = 415.40€ ---
Brussels Annual - BMW 320d,brussels,annual,140,10,diesel,euro_6d,148,,0,true,405,430,false

# --- Tesla Model Y Performance (15CV) - same as thermal ---
Brussels Annual - Tesla Y Perf,brussels,annual,378,15,electric,euro_6d,0,,0,true,1020,1050,false

# --- Tesla Model Y Propulsion (7CV) = 243.41€ ---
Brussels Annual - Tesla Y Prop,brussels,annual,202,7,electric,euro_6d,0,,0,true,235,255,false

# --- Dacia Sandero LPG (5CV) = 128.96€ + 89.16€ (≤7CV bracket) = 218.12€ ---
Brussels Annual - Dacia Sandero LPG,brussels,annual,74,5,lpg,euro_6d,114,,0,true,210,230,false

# --- Golf GTE (8CV) = 300.96€ ---
Brussels Annual - Golf GTE,brussels,annual,110,8,plug_in_hybrid_petrol,euro_6d,25,,0,true,295,315,false

# --- Renault Clio (5CV) = 128.96€ ---
Brussels Annual - Clio TCe,brussels,annual,74,5,petrol,euro_6d,128,,0,true,120,140,false

# Additional HP brackets
Brussels Annual - 4CV,brussels,annual,70,4,petrol,euro_6d,120,,0,true,98,110,false
Brussels Annual - 8CV,brussels,annual,110,8,petrol,euro_6d,160,,0,true,295,315,false

# ============================================
# SECTION 6: FLANDERS ANNUAL TAX (July 2025)
# Base on fiscal HP + CO2 bonus/malus
# Electric/Hydrogen: EXEMPT
# ============================================

# --- Golf GTI (15CV, 162g CO2) ---
Flanders Annual - Golf GTI,flanders,annual,195,15,petrol,euro_6d,162,,0,true,950,1100,false

# --- BMW 320d (10CV, 148g CO2) ---
Flanders Annual - BMW 320d,flanders,annual,140,10,diesel,euro_6d,148,,0,true,395,430,false

# --- Tesla Model Y Performance (electric) - Service needs exemption logic update ---
Flanders Annual - Tesla Y Perf,flanders,annual,378,15,electric,euro_6d,0,,0,true,0,1200,false

# --- Tesla Model Y Propulsion (electric) - Service needs exemption logic update ---
Flanders Annual - Tesla Y Prop,flanders,annual,202,7,electric,euro_6d,0,,0,true,0,350,false

# --- Dacia Sandero LPG (5CV, 114g CO2) = 126.18€ - CO2 bonus ≈ 113€ (no LPG supplement in Flanders) ---
Flanders Annual - Dacia Sandero LPG,flanders,annual,74,5,lpg,euro_6d,114,,0,true,105,125,false

# --- Golf GTE Hybrid (8CV, 25g CO2) ---
Flanders Annual - Golf GTE,flanders,annual,110,8,plug_in_hybrid_petrol,euro_6d,25,,0,true,150,250,false

# --- Renault Clio (5CV, 128g CO2) ---
Flanders Annual - Clio TCe,flanders,annual,74,5,petrol,euro_6d,128,,0,true,110,160,false

# Hydrogen - Service needs exemption logic update
Flanders Annual - Hydrogen,flanders,annual,180,12,hydrogen,euro_6d,0,,0,true,0,800,false

# CO2 bonus/malus tests (same 8CV, different CO2)
Flanders Annual - 8CV low CO2,flanders,annual,110,8,petrol,euro_6d,100,,0,true,200,300,false
Flanders Annual - 8CV mid CO2,flanders,annual,110,8,petrol,euro_6d,149,,0,true,280,320,false
Flanders Annual - 8CV high CO2,flanders,annual,110,8,diesel,euro_6d,200,,0,true,300,400,false

# ============================================
# SECTION 7: EDGE CASES AND SPECIAL SCENARIOS
# ============================================

# --- Power bracket boundaries ---
Wallonia TMC - 70kW boundary,wallonia,tmc,70,5,petrol,euro_6d,120,1600,0,true,50,100,false
Wallonia TMC - 71kW boundary,wallonia,tmc,71,5,petrol,euro_6d,120,1600,0,true,70,150,false
Wallonia TMC - 85kW boundary,wallonia,tmc,85,6,petrol,euro_6d,130,1700,0,true,90,200,false
Wallonia TMC - 86kW boundary,wallonia,tmc,86,6,petrol,euro_6d,130,1700,0,true,300,550,false

# --- Age coefficient boundaries ---
Wallonia TMC - Golf GTI 4y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,4,false,3200,4200,false
Wallonia TMC - Golf GTI 6y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,6,false,2600,3600,false
Wallonia TMC - Golf GTI 14y,wallonia,tmc,195,15,petrol,euro_6d,162,1950,14,false,500,800,false

# --- Very old vehicles (exempt) ---
Wallonia TMC - 20y exempt,wallonia,tmc,140,10,diesel,euro_6d,148,2105,20,false,0,0,false
Brussels TMC - 25y exempt,brussels,tmc,195,15,petrol,euro_6d,162,,25,false,0,0,false

# --- High power vehicles ---
Wallonia TMC - 300kW high power,wallonia,tmc,300,20,petrol,euro_6d,220,2400,0,true,6500,9000,false
Brussels TMC - 250kW power,brussels,tmc,250,17,petrol,euro_6d,200,,0,true,5500,7000,false

# --- Minimum amount tests ---
Wallonia TMC - min amount test,wallonia,tmc,60,4,petrol,euro_6d,100,1400,0,true,50,80,false
Brussels TMC - min amount test,brussels,tmc,70,5,petrol,euro_6d,100,,0,true,70,110,false

# --- Maximum amount tests ---
Wallonia TMC - max amount cap,wallonia,tmc,300,20,petrol,euro_6d,250,2600,0,true,8000,9000,false

